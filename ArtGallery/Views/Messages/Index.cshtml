@{
    ViewData["Title"] = "Tin nhắn";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/css/message.css" rel="stylesheet" />

<div class="message-container">
    <div class="message-sidebar">
        <div class="sidebar-header">
            <h3>Đoạn chat</h3>
            <div class="sidebar-actions">
                <button type="button" class="btn-icon" id="moreOptionsBtn">
                    <i class="fas fa-ellipsis-h"></i>
                </button>
                <button type="button" class="btn-icon" id="newMessageBtn">
                    <i class="fas fa-edit"></i>
                </button>
            </div>
        </div>
        
        <div class="sidebar-search">
            <div class="search-input">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Tìm kiếm trên PiaoYue" id="searchConversation">
            </div>
        </div>
        
        <div class="conversation-list" id="conversationList">
            <!-- Đây là nơi hiển thị danh sách cuộc trò chuyện -->
        </div>
    </div>
    
    <div class="message-content" id="messageContent">
        <div class="welcome-screen">
            <div class="welcome-icon">
                <i class="far fa-comment-dots"></i>
            </div>
            <h2>Tin nhắn của bạn</h2>
            <p>Gửi ảnh, tin nhắn và nhiều nội dung khác cho bạn bè hoặc nhóm.</p>
        </div>
    </div>
</div>

<!-- Form tạo tin nhắn mới -->
<div class="new-message-modal" id="newMessageModal">
    <div class="new-message-container">
        <div class="new-message-header">
            <h3>Tin nhắn mới</h3>
            <button type="button" class="close-btn" id="closeNewMessageBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="new-message-body">
            <div class="recipient-input-container">
                <label>Đến:</label>
                <div class="recipient-input-wrapper">
                    <input type="text" id="recipientInput" placeholder="Tìm kiếm người dùng..." autocomplete="off">
                </div>
            </div>
            <div class="recipient-results" id="recipientResults"></div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('newMessageBtn').addEventListener('click', function() {
            document.getElementById('newMessageModal').style.display = 'flex';
            document.getElementById('recipientInput').focus();
        });
        
        document.getElementById('closeNewMessageBtn').addEventListener('click', function() {
            document.getElementById('newMessageModal').style.display = 'none';
            document.getElementById('recipientInput').value = '';
        });
    });
</script>

<script src="~/js/message.js"></script> 